// Главный модуль приложения
// Демонстрация различных возможностей языка 1С (BSL)

#Область ОписаниеПеременных

Перем ГлобальнаяПеременная;
Перем Счетчик Экспорт;

#КонецОбласти

#Область ПрограммныйИнтерфейс

// Приветствует пользователя
//
// Параметры:
//  ИмяПользователя - Строка - имя пользователя для приветствия
//  ТипПриветствия - Строка - тип приветствия: "формальное" или "неформальное"
//
// Возвращаемое значение:
//  Строка - текст приветствия
//
Функция ПриветствоватьПользователя(ИмяПользователя, ТипПриветствия = "формальное") Экспорт

    Если ТипПриветствия = "формальное" Тогда
        Возврат "Добрый день, " + ИмяПользователя + "!";
    ИначеЕсли ТипПриветствия = "неформальное" Тогда
        Возврат "Привет, " + ИмяПользователя + "!";
    Иначе
        Возврат "Здравствуйте, " + ИмяПользователя + "!";
    КонецЕсли;

КонецФункции

// Обрабатывает список элементов
//
// Параметры:
//  МассивЭлементов - Массив - массив элементов для обработки
//  Операция - Строка - тип операции: "подсчет" или "преобразование"
//
Процедура ОбработатьЭлементы(МассивЭлементов, Операция) Экспорт

    Для Каждого Элемент Из МассивЭлементов Цикл
        Если Операция = "подсчет" Тогда
            Счетчик = Счетчик + 1;
            Сообщить("Обработка элемента " + Счетчик + ": " + Элемент);
        ИначеЕсли Операция = "преобразование" Тогда
            Сообщить(ВРег(Элемент));
        Иначе
            ВызватьИсключение "Неизвестная операция: " + Операция;
        КонецЕсли;
    КонецЦикла;

КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

// Инициализирует глобальные переменные
Процедура ИнициализироватьПеременные()

    ГлобальнаяПеременная = "Инициализировано";
    Счетчик = 0;

КонецПроцедуры

// Главная процедура запуска
Процедура Главная()

    ИнициализироватьПеременные();

    Приветствие = ПриветствоватьПользователя("Иван", "формальное");
    Сообщить(Приветствие);

    Элементы = Новый Массив;
    Элементы.Добавить("элемент1");
    Элементы.Добавить("элемент2");
    Элементы.Добавить("элемент3");

    ОбработатьЭлементы(Элементы, "подсчет");

    Сообщить("Скрипт выполнен успешно");

КонецПроцедуры

#КонецОбласти

// Точка входа
Главная();
